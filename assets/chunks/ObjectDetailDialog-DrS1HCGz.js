import{aQ as P,aR as F,ae as I,ao as L,ad as Y,m as O,v as S}from"./ui-B8MTJjzS.js";import{b as $}from"./vendor-C-KThoNQ.js";import{a as G}from"./page-files-Cwuz-WAk.js";import{aY as Q,bg as R,b5 as U,a_ as f,b0 as a,aZ as j,b9 as k,a$ as l,bc as t,bk as d,bb as i,b1 as v}from"./vendor-other-DMrNeO-R.js";import{_ as Z}from"./page-admin-Txqa2T3a.js";import"./utils-nO-s2RVl.js";import"./page-dashboard-DWJ9bqym.js";import"./page-auth-B067K4bE.js";const q={key:0,class:"object-detail"},H={key:0,class:"related-files"},J={class:"dialog-footer"},K=Q({__name:"ObjectDetailDialog",props:{modelValue:{type:Boolean},data:{default:null}},emits:["update:modelValue","edit"],setup(o,{emit:h}){const{t:e}=$(),b=o,_=h,E=G(),{formatFileSize:C,formatDate:y}=E,u=R({get:()=>b.modelValue,set:s=>_("update:modelValue",s)}),g=()=>{u.value=!1},T=()=>{b.data&&_("edit",b.data)},V={document:e("objects.types.document"),image:e("objects.types.image"),video:e("objects.types.video"),audio:e("objects.types.audio"),other:e("objects.types.other")},D={document:"primary",image:"success",video:"warning",audio:"danger",other:"info"},B=s=>V[s]||s,w=s=>D[s]||"info",x=s=>{const n=document.createElement("a");n.href=s.url,n.download=s.name,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)};return(s,n)=>{const c=F,A=I,z=P,r=Y,p=O,M=L,N=S;return f(),U(N,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=m=>u.value=m),title:t(e)("objects.detail.title_fallback"),width:"800px",onClose:g},{footer:a(()=>[v("div",J,[l(p,{onClick:g},{default:a(()=>[d(i(t(e)("common.cancel")),1)]),_:1}),l(p,{type:"primary",onClick:T},{default:a(()=>[d(i(t(e)("objects.actions.edit")),1)]),_:1})])]),default:a(()=>[o.data?(f(),j("div",q,[l(z,{column:2,border:""},{default:a(()=>[l(c,{label:t(e)("objects.form.name")},{default:a(()=>[d(i(o.data.name),1)]),_:1},8,["label"]),l(c,{label:t(e)("objects.form.type")},{default:a(()=>[l(A,{type:w(o.data.type)},{default:a(()=>[d(i(B(o.data.type)),1)]),_:1},8,["type"])]),_:1},8,["label"]),l(c,{label:t(e)("objects.table.created_at")},{default:a(()=>[d(i(t(y)(o.data.createdAt)),1)]),_:1},8,["label"]),l(c,{label:t(e)("common.updated_at")},{default:a(()=>[d(i(t(y)(o.data.updatedAt)),1)]),_:1},8,["label"]),l(c,{label:t(e)("objects.detail.description"),span:2},{default:a(()=>[d(i(o.data.description||t(e)("objects.detail.no_description")),1)]),_:1},8,["label"])]),_:1}),o.data.files&&o.data.files.length>0?(f(),j("div",H,[v("h4",null,i(t(e)("objects.detail.related_files")),1),l(M,{data:o.data.files,stripe:""},{default:a(()=>[l(r,{prop:"name",label:t(e)("objects.detail.file_name")},null,8,["label"]),l(r,{prop:"size",label:t(e)("objects.detail.file_size")},{default:a(({row:m})=>[d(i(t(C)(m.size)),1)]),_:1},8,["label"]),l(r,{prop:"type",label:t(e)("objects.detail.file_type")},null,8,["label"]),l(r,{label:t(e)("objects.table.operations"),width:"120"},{default:a(({row:m})=>[l(p,{size:"small",type:"primary",onClick:W=>x(m)},{default:a(()=>[...n[1]||(n[1]=[d(" 下載 ",-1)])]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])):k("",!0)])):k("",!0)]),_:1},8,["modelValue","title"])}}}),de=Z(K,[["__scopeId","data-v-3c523098"]]);export{de as default};
